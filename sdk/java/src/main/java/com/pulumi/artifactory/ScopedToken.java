// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.artifactory;

import com.pulumi.artifactory.ScopedTokenArgs;
import com.pulumi.artifactory.Utilities;
import com.pulumi.artifactory.inputs.ScopedTokenState;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.Integer;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Provides an Artifactory Scoped Token resource. This can be used to create and manage Artifactory Scoped Tokens.
 * 
 * !&gt;Scoped Tokens will be stored in the raw state as plain-text. Read more about sensitive data in
 * state.
 * 
 * ~&gt;Token would not be saved by Artifactory if `expires_in` is less than the persistency threshold value (default to 10800 seconds) set in Access configuration. See [Persistency Threshold](https://jfrog.com/help/r/jfrog-platform-administration-documentation/using-the-revocable-and-persistency-thresholds) for details.
 * 
 * ## Example Usage
 * 
 * ### Create a new Artifactory scoped token for an existing user
 * 
 * resource &#34;artifactory_scoped_token&#34; &#34;scoped_token&#34; {
 *   username = &#34;existing-user&#34;
 * }
 * 
 * ### **Note:** This assumes that the user `existing-user` has already been created in Artifactory by different means, i.e. manually or in a separate pulumi up.
 * 
 * ### Create a new Artifactory user and scoped token
 * resource &#34;artifactory_user&#34; &#34;new_user&#34; {
 *   name   = &#34;new_user&#34;
 *   email  = &#34;new_user@somewhere.com&#34;
 *   groups = [&#34;readers&#34;]
 * }
 * 
 * resource &#34;artifactory_scoped_token&#34; &#34;scoped_token_user&#34; {
 *   username = artifactory_user.new_user.name
 * }
 * 
 * ### Creates a new token for groups
 * resource &#34;artifactory_scoped_token&#34; &#34;scoped_token_group&#34; {
 *   scopes = [&#34;applied-permissions/groups:readers&#34;]
 * }
 * 
 * ### Create token with expiry
 * resource &#34;artifactory_scoped_token&#34; &#34;scoped_token_no_expiry&#34; {
 *   username   = &#34;existing-user&#34;
 *   expires_in = 7200 // in seconds
 * }
 * 
 * ### Creates a refreshable token
 * resource &#34;artifactory_scoped_token&#34; &#34;scoped_token_refreshable&#34; {
 *   username    = &#34;existing-user&#34;
 *   refreshable = true
 * }
 * 
 * ### Creates an administrator token
 * resource &#34;artifactory_scoped_token&#34; &#34;admin&#34; {
 *   username = &#34;admin-user&#34;
 *   scopes   = [&#34;applied-permissions/admin&#34;]
 * }
 * ## References
 * 
 * - https://jfrog.com/help/r/jfrog-platform-administration-documentation/access-tokens
 * - https://jfrog.com/help/r/jfrog-rest-apis/access-tokens
 * 
 * ## Import
 * 
 * Artifactory **does not** retain scoped tokens, and they cannot be imported into state.
 * 
 */
@ResourceType(type="artifactory:index/scopedToken:ScopedToken")
public class ScopedToken extends com.pulumi.resources.CustomResource {
    /**
     * Returns the access token to authenticate to Artifactory.
     * 
     */
    @Export(name="accessToken", type=String.class, parameters={})
    private Output<String> accessToken;

    /**
     * @return Returns the access token to authenticate to Artifactory.
     * 
     */
    public Output<String> accessToken() {
        return this.accessToken;
    }
    /**
     * A list of the other instances or services that should accept this token identified by their Service-IDs. Limited to total 255 characters. Default to &#39;*@*&#39; if not set. Service ID must begin with valid JFrog service type. Options: jfrt, jfxr, jfpip, jfds, jfmc, jfac, jfevt, jfmd, jfcon, or *. For instructions to retrieve the Artifactory Service ID see this [documentation](https://jfrog.com/help/r/jfrog-rest-apis/get-service-id)
     * 
     */
    @Export(name="audiences", type=List.class, parameters={String.class})
    private Output</* @Nullable */ List<String>> audiences;

    /**
     * @return A list of the other instances or services that should accept this token identified by their Service-IDs. Limited to total 255 characters. Default to &#39;*@*&#39; if not set. Service ID must begin with valid JFrog service type. Options: jfrt, jfxr, jfpip, jfds, jfmc, jfac, jfevt, jfmd, jfcon, or *. For instructions to retrieve the Artifactory Service ID see this [documentation](https://jfrog.com/help/r/jfrog-rest-apis/get-service-id)
     * 
     */
    public Output<Optional<List<String>>> audiences() {
        return Codegen.optional(this.audiences);
    }
    /**
     * Free text token description. Useful for filtering and managing tokens. Limited to 1024 characters.
     * 
     */
    @Export(name="description", type=String.class, parameters={})
    private Output<String> description;

    /**
     * @return Free text token description. Useful for filtering and managing tokens. Limited to 1024 characters.
     * 
     */
    public Output<String> description() {
        return this.description;
    }
    /**
     * The amount of time, in seconds, it would take for the token to expire. An admin shall be able to set whether expiry is mandatory, what is the default expiry, and what is the maximum expiry allowed. Must be non-negative. Default value is based on configuration in &#39;access.config.yaml&#39;. See [API documentation](https://jfrog.com/help/r/jfrog-rest-apis/create-token) for details. Access Token would not be saved by Artifactory if this is less than the persistence threshold value (default to 10800 seconds) set in Access configuration. See [official documentation](https://jfrog.com/help/r/jfrog-platform-administration-documentation/using-the-revocable-and-persistency-thresholds) for details.
     * 
     */
    @Export(name="expiresIn", type=Integer.class, parameters={})
    private Output<Integer> expiresIn;

    /**
     * @return The amount of time, in seconds, it would take for the token to expire. An admin shall be able to set whether expiry is mandatory, what is the default expiry, and what is the maximum expiry allowed. Must be non-negative. Default value is based on configuration in &#39;access.config.yaml&#39;. See [API documentation](https://jfrog.com/help/r/jfrog-rest-apis/create-token) for details. Access Token would not be saved by Artifactory if this is less than the persistence threshold value (default to 10800 seconds) set in Access configuration. See [official documentation](https://jfrog.com/help/r/jfrog-platform-administration-documentation/using-the-revocable-and-persistency-thresholds) for details.
     * 
     */
    public Output<Integer> expiresIn() {
        return this.expiresIn;
    }
    /**
     * Returns the token expiry.
     * 
     */
    @Export(name="expiry", type=Integer.class, parameters={})
    private Output<Integer> expiry;

    /**
     * @return Returns the token expiry.
     * 
     */
    public Output<Integer> expiry() {
        return this.expiry;
    }
    /**
     * The grant type used to authenticate the request. In this case, the only value supported is `client_credentials` which is also the default value if this parameter is not specified.
     * 
     */
    @Export(name="grantType", type=String.class, parameters={})
    private Output<String> grantType;

    /**
     * @return The grant type used to authenticate the request. In this case, the only value supported is `client_credentials` which is also the default value if this parameter is not specified.
     * 
     */
    public Output<String> grantType() {
        return this.grantType;
    }
    /**
     * Also create a reference token which can be used like an API key.
     * 
     */
    @Export(name="includeReferenceToken", type=Boolean.class, parameters={})
    private Output<Boolean> includeReferenceToken;

    /**
     * @return Also create a reference token which can be used like an API key.
     * 
     */
    public Output<Boolean> includeReferenceToken() {
        return this.includeReferenceToken;
    }
    /**
     * Returns the token issued at date/time.
     * 
     */
    @Export(name="issuedAt", type=Integer.class, parameters={})
    private Output<Integer> issuedAt;

    /**
     * @return Returns the token issued at date/time.
     * 
     */
    public Output<Integer> issuedAt() {
        return this.issuedAt;
    }
    /**
     * Returns the token issuer.
     * 
     */
    @Export(name="issuer", type=String.class, parameters={})
    private Output<String> issuer;

    /**
     * @return Returns the token issuer.
     * 
     */
    public Output<String> issuer() {
        return this.issuer;
    }
    /**
     * The project for which this token is created. Enter the project name on which you want to apply this token.
     * 
     */
    @Export(name="projectKey", type=String.class, parameters={})
    private Output</* @Nullable */ String> projectKey;

    /**
     * @return The project for which this token is created. Enter the project name on which you want to apply this token.
     * 
     */
    public Output<Optional<String>> projectKey() {
        return Codegen.optional(this.projectKey);
    }
    /**
     * Reference Token (alias to Access Token).
     * 
     */
    @Export(name="referenceToken", type=String.class, parameters={})
    private Output<String> referenceToken;

    /**
     * @return Reference Token (alias to Access Token).
     * 
     */
    public Output<String> referenceToken() {
        return this.referenceToken;
    }
    /**
     * Refresh token.
     * 
     */
    @Export(name="refreshToken", type=String.class, parameters={})
    private Output<String> refreshToken;

    /**
     * @return Refresh token.
     * 
     */
    public Output<String> refreshToken() {
        return this.refreshToken;
    }
    /**
     * Is this token refreshable? Default is `false`.
     * 
     */
    @Export(name="refreshable", type=Boolean.class, parameters={})
    private Output<Boolean> refreshable;

    /**
     * @return Is this token refreshable? Default is `false`.
     * 
     */
    public Output<Boolean> refreshable() {
        return this.refreshable;
    }
    /**
     * The scope of access that the token provides. Access to the REST API is always provided by default. Administrators can set any scope, while non-admin users can only set the scope to a subset of the groups to which they belong.
     * The supported scopes include:
     * 
     */
    @Export(name="scopes", type=List.class, parameters={String.class})
    private Output<List<String>> scopes;

    /**
     * @return The scope of access that the token provides. Access to the REST API is always provided by default. Administrators can set any scope, while non-admin users can only set the scope to a subset of the groups to which they belong.
     * The supported scopes include:
     * 
     */
    public Output<List<String>> scopes() {
        return this.scopes;
    }
    /**
     * Returns the token type.
     * 
     */
    @Export(name="subject", type=String.class, parameters={})
    private Output<String> subject;

    /**
     * @return Returns the token type.
     * 
     */
    public Output<String> subject() {
        return this.subject;
    }
    /**
     * Returns the token type.
     * 
     */
    @Export(name="tokenType", type=String.class, parameters={})
    private Output<String> tokenType;

    /**
     * @return Returns the token type.
     * 
     */
    public Output<String> tokenType() {
        return this.tokenType;
    }
    /**
     * The user name for which this token is created. The username is based on the authenticated user - either from the user of the authenticated token or based on the username (if basic auth was used). The username is then used to set the subject of the token: \n\n/users/\n\n. Limited to 255 characters.
     * 
     */
    @Export(name="username", type=String.class, parameters={})
    private Output</* @Nullable */ String> username;

    /**
     * @return The user name for which this token is created. The username is based on the authenticated user - either from the user of the authenticated token or based on the username (if basic auth was used). The username is then used to set the subject of the token: \n\n/users/\n\n. Limited to 255 characters.
     * 
     */
    public Output<Optional<String>> username() {
        return Codegen.optional(this.username);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ScopedToken(String name) {
        this(name, ScopedTokenArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ScopedToken(String name, @Nullable ScopedTokenArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ScopedToken(String name, @Nullable ScopedTokenArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/scopedToken:ScopedToken", name, args == null ? ScopedTokenArgs.Empty : args, makeResourceOptions(options, Codegen.empty()));
    }

    private ScopedToken(String name, Output<String> id, @Nullable ScopedTokenState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/scopedToken:ScopedToken", name, state, makeResourceOptions(options, id));
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .additionalSecretOutputs(List.of(
                "accessToken",
                "referenceToken",
                "refreshToken"
            ))
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ScopedToken get(String name, Output<String> id, @Nullable ScopedTokenState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new ScopedToken(name, id, state, options);
    }
}
