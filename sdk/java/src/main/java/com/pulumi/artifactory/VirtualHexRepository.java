// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.artifactory;

import com.pulumi.artifactory.Utilities;
import com.pulumi.artifactory.VirtualHexRepositoryArgs;
import com.pulumi.artifactory.inputs.VirtualHexRepositoryState;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import javax.annotation.Nullable;

/**
 * Creates a virtual Hex repository that aggregates local and remote Hex repositories.
 * 
 * Official documentation can be found [here](https://www.jfrog.com/confluence/display/JFROG/Hex+Registry#HexRegistry-VirtualRepositories).
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.artifactory.Keypair;
 * import com.pulumi.artifactory.KeypairArgs;
 * import com.pulumi.std.StdFunctions;
 * import com.pulumi.std.inputs.FileArgs;
 * import com.pulumi.artifactory.LocalHexRepository;
 * import com.pulumi.artifactory.LocalHexRepositoryArgs;
 * import com.pulumi.artifactory.RemoteHexRepository;
 * import com.pulumi.artifactory.RemoteHexRepositoryArgs;
 * import com.pulumi.artifactory.VirtualHexRepository;
 * import com.pulumi.artifactory.VirtualHexRepositoryArgs;
 * import com.pulumi.resources.CustomResourceOptions;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var some_keypairRSA = new Keypair("some-keypairRSA", KeypairArgs.builder()
 *             .pairName(String.format("some-keypair%s", randid.id()))
 *             .pairType("RSA")
 *             .alias("foo-alias")
 *             .privateKey(StdFunctions.file(FileArgs.builder()
 *                 .input("samples/rsa.priv")
 *                 .build()).result())
 *             .publicKey(StdFunctions.file(FileArgs.builder()
 *                 .input("samples/rsa.pub")
 *                 .build()).result())
 *             .build());
 * 
 *         var local_hex = new LocalHexRepository("local-hex", LocalHexRepositoryArgs.builder()
 *             .key("local-hex")
 *             .hexPrimaryKeypairRef(some_keypairRSA.pairName())
 *             .build());
 * 
 *         var remote_hex = new RemoteHexRepository("remote-hex", RemoteHexRepositoryArgs.builder()
 *             .key("remote-hex")
 *             .url("https://repo.hex.pm")
 *             .hexPrimaryKeypairRef(some_keypairRSA.pairName())
 *             .publicKey(StdFunctions.file(FileArgs.builder()
 *                 .input("samples/rsa.pub")
 *                 .build()).result())
 *             .build());
 * 
 *         var my_virtual_hex = new VirtualHexRepository("my-virtual-hex", VirtualHexRepositoryArgs.builder()
 *             .key("my-virtual-hex")
 *             .hexPrimaryKeypairRef(some_keypairRSA.pairName())
 *             .repositories(            
 *                 local_hex.key(),
 *                 remote_hex.key())
 *             .description("Virtual Hex repository aggregating local and remote")
 *             .notes("Internal repository")
 *             .build(), CustomResourceOptions.builder()
 *                 .dependsOn(                
 *                     some_keypairRSA,
 *                     local_hex,
 *                     remote_hex)
 *                 .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * Virtual repositories can be imported using their name, e.g.
 * ```sh
 * $ pulumi import artifactory:index/virtualHexRepository:VirtualHexRepository my-virtual-hex my-virtual-hex
 * ```
 * 
 */
@ResourceType(type="artifactory:index/virtualHexRepository:VirtualHexRepository")
public class VirtualHexRepository extends com.pulumi.resources.CustomResource {
    /**
     * Whether the virtual repository should search through remote repositories when trying to resolve an artifact requested by another Artifactory instance.
     * 
     */
    @Export(name="artifactoryRequestsCanRetrieveRemoteArtifacts", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> artifactoryRequestsCanRetrieveRemoteArtifacts;

    /**
     * @return Whether the virtual repository should search through remote repositories when trying to resolve an artifact requested by another Artifactory instance.
     * 
     */
    public Output<Boolean> artifactoryRequestsCanRetrieveRemoteArtifacts() {
        return this.artifactoryRequestsCanRetrieveRemoteArtifacts;
    }
    /**
     * Default repository to deploy artifacts.
     * 
     */
    @Export(name="defaultDeploymentRepo", refs={String.class}, tree="[0]")
    private Output<String> defaultDeploymentRepo;

    /**
     * @return Default repository to deploy artifacts.
     * 
     */
    public Output<String> defaultDeploymentRepo() {
        return this.defaultDeploymentRepo;
    }
    /**
     * Public description.
     * 
     */
    @Export(name="description", refs={String.class}, tree="[0]")
    private Output<String> description;

    /**
     * @return Public description.
     * 
     */
    public Output<String> description() {
        return this.description;
    }
    /**
     * List of artifact patterns to exclude when evaluating artifact requests, in the form of `x/y/**&#47;z/*`.By default no artifacts are excluded.
     * 
     */
    @Export(name="excludesPattern", refs={String.class}, tree="[0]")
    private Output<String> excludesPattern;

    /**
     * @return List of artifact patterns to exclude when evaluating artifact requests, in the form of `x/y/**&#47;z/*`.By default no artifacts are excluded.
     * 
     */
    public Output<String> excludesPattern() {
        return this.excludesPattern;
    }
    /**
     * Select the RSA key pair to sign and encrypt content for secure communication between Artifactory and the Mix client.
     * 
     */
    @Export(name="hexPrimaryKeypairRef", refs={String.class}, tree="[0]")
    private Output<String> hexPrimaryKeypairRef;

    /**
     * @return Select the RSA key pair to sign and encrypt content for secure communication between Artifactory and the Mix client.
     * 
     */
    public Output<String> hexPrimaryKeypairRef() {
        return this.hexPrimaryKeypairRef;
    }
    /**
     * List of comma-separated artifact patterns to include when evaluating artifact requests in the form of `x/y/**&#47;z/*`. When used, only artifacts matching one of the include patterns are served. By default, all artifacts are included (`**&#47;*`).
     * 
     */
    @Export(name="includesPattern", refs={String.class}, tree="[0]")
    private Output<String> includesPattern;

    /**
     * @return List of comma-separated artifact patterns to include when evaluating artifact requests in the form of `x/y/**&#47;z/*`. When used, only artifacts matching one of the include patterns are served. By default, all artifacts are included (`**&#47;*`).
     * 
     */
    public Output<String> includesPattern() {
        return this.includesPattern;
    }
    /**
     * A mandatory identifier for the repository that must be unique. It cannot begin with a number or contain spaces or special characters.
     * 
     */
    @Export(name="key", refs={String.class}, tree="[0]")
    private Output<String> key;

    /**
     * @return A mandatory identifier for the repository that must be unique. It cannot begin with a number or contain spaces or special characters.
     * 
     */
    public Output<String> key() {
        return this.key;
    }
    /**
     * Artifactory REST API call Get Key Pair doesn&#39;t return keys `privateKey` and `passphrase`, but consumes these keys in the POST call.
     * 
     * The meta-argument `lifecycle` used here to make Provider ignore the changes for these two keys in the Terraform state.
     * 
     */
    @Export(name="notes", refs={String.class}, tree="[0]")
    private Output<String> notes;

    /**
     * @return Artifactory REST API call Get Key Pair doesn&#39;t return keys `privateKey` and `passphrase`, but consumes these keys in the POST call.
     * 
     * The meta-argument `lifecycle` used here to make Provider ignore the changes for these two keys in the Terraform state.
     * 
     */
    public Output<String> notes() {
        return this.notes;
    }
    /**
     * Before Artifactory 7.53.1, up to 2 values (`DEV` and `PROD`) are allowed. From 7.53.1 to 7.107.1, only one value is allowed. From 7.107.1, multiple values are allowed.The attribute should only be used if the repository is already assigned to the existing project. If not, the attribute will be ignored by Artifactory, but will remain in the Terraform state, which will create state drift during the update.
     * 
     */
    @Export(name="projectEnvironments", refs={List.class,String.class}, tree="[0,1]")
    private Output<List<String>> projectEnvironments;

    /**
     * @return Before Artifactory 7.53.1, up to 2 values (`DEV` and `PROD`) are allowed. From 7.53.1 to 7.107.1, only one value is allowed. From 7.107.1, multiple values are allowed.The attribute should only be used if the repository is already assigned to the existing project. If not, the attribute will be ignored by Artifactory, but will remain in the Terraform state, which will create state drift during the update.
     * 
     */
    public Output<List<String>> projectEnvironments() {
        return this.projectEnvironments;
    }
    /**
     * Project key for assigning this repository to. Must be 2 - 32 lowercase alphanumeric and hyphen characters. When assigning repository to a project, repository key must be prefixed with project key, separated by a dash.
     * 
     */
    @Export(name="projectKey", refs={String.class}, tree="[0]")
    private Output<String> projectKey;

    /**
     * @return Project key for assigning this repository to. Must be 2 - 32 lowercase alphanumeric and hyphen characters. When assigning repository to a project, repository key must be prefixed with project key, separated by a dash.
     * 
     */
    public Output<String> projectKey() {
        return this.projectKey;
    }
    /**
     * Sets the layout that the repository should use for storing and identifying modules. A recommended layout that corresponds to the package type defined is suggested, and index packages uploaded and calculate metadata accordingly.
     * 
     */
    @Export(name="repoLayoutRef", refs={String.class}, tree="[0]")
    private Output<String> repoLayoutRef;

    /**
     * @return Sets the layout that the repository should use for storing and identifying modules. A recommended layout that corresponds to the package type defined is suggested, and index packages uploaded and calculate metadata accordingly.
     * 
     */
    public Output<String> repoLayoutRef() {
        return this.repoLayoutRef;
    }
    /**
     * The effective list of actual repositories included in this virtual repository.
     * 
     */
    @Export(name="repositories", refs={List.class,String.class}, tree="[0,1]")
    private Output<List<String>> repositories;

    /**
     * @return The effective list of actual repositories included in this virtual repository.
     * 
     */
    public Output<List<String>> repositories() {
        return this.repositories;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public VirtualHexRepository(java.lang.String name) {
        this(name, VirtualHexRepositoryArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public VirtualHexRepository(java.lang.String name, VirtualHexRepositoryArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public VirtualHexRepository(java.lang.String name, VirtualHexRepositoryArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/virtualHexRepository:VirtualHexRepository", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private VirtualHexRepository(java.lang.String name, Output<java.lang.String> id, @Nullable VirtualHexRepositoryState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/virtualHexRepository:VirtualHexRepository", name, state, makeResourceOptions(options, id), false);
    }

    private static VirtualHexRepositoryArgs makeArgs(VirtualHexRepositoryArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? VirtualHexRepositoryArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static VirtualHexRepository get(java.lang.String name, Output<java.lang.String> id, @Nullable VirtualHexRepositoryState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new VirtualHexRepository(name, id, state, options);
    }
}
