// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.artifactory;

import com.pulumi.artifactory.LdapSettingArgs;
import com.pulumi.artifactory.Utilities;
import com.pulumi.artifactory.inputs.LdapSettingState;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * This resource can be used to manage Artifactory&#39;s LDAP settings for user authentication.
 * 
 * When specified LDAP setting is active, Artifactory first attempts to authenticate the user against the LDAP server.
 * If LDAP authentication fails, it then tries to authenticate via its internal database.
 * 
 * ~&gt;The `artifactory.LdapSetting` resource utilizes endpoints which are blocked/removed in SaaS environments (i.e. in Artifactory online), rendering this resource incompatible with Artifactory SaaS environments.
 * 
 * ## Example Usage
 * 
 * &lt;!--Start PulumiCodeChooser --&gt;
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.artifactory.LdapSetting;
 * import com.pulumi.artifactory.LdapSettingArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         // Configure Artifactory LDAP setting
 *         var ldapName = new LdapSetting("ldapName", LdapSettingArgs.builder()
 *             .key("ldap_name")
 *             .enabled(true)
 *             .ldapUrl("ldap://ldap_server_url")
 *             .userDnPattern("uid={0},ou=People")
 *             .emailAttribute("mail")
 *             .autoCreateUser(true)
 *             .ldapPoisoningProtection(true)
 *             .allowUserToAccessProfile(false)
 *             .pagingSupportEnabled(false)
 *             .searchFilter("(uid={0})")
 *             .searchBase("ou=users")
 *             .searchSubTree(true)
 *             .managerDn("mgr_dn")
 *             .managerPassword("mgr_passwd_random")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * &lt;!--End PulumiCodeChooser --&gt;
 * Note: `Key` argument has to match to the resource name.Reference Link: [JFrog LDAP](https://www.jfrog.com/confluence/display/JFROG/LDAP)
 * 
 * ## Import
 * 
 * LDAP setting can be imported using the key, e.g.
 * 
 * ```sh
 * $ pulumi import artifactory:index/ldapSetting:LdapSetting ldap_name ldap_name
 * ```
 * 
 */
@ResourceType(type="artifactory:index/ldapSetting:LdapSetting")
public class LdapSetting extends com.pulumi.resources.CustomResource {
    /**
     * When set, users created after logging in using LDAP will be able to access their profile page.  Default value is `false`.
     * 
     */
    @Export(name="allowUserToAccessProfile", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> allowUserToAccessProfile;

    /**
     * @return When set, users created after logging in using LDAP will be able to access their profile page.  Default value is `false`.
     * 
     */
    public Output<Optional<Boolean>> allowUserToAccessProfile() {
        return Codegen.optional(this.allowUserToAccessProfile);
    }
    /**
     * When set, the system will automatically create new users for those who have logged in using LDAP, and assign them to the default groups.  Default value is `true`.
     * 
     */
    @Export(name="autoCreateUser", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> autoCreateUser;

    /**
     * @return When set, the system will automatically create new users for those who have logged in using LDAP, and assign them to the default groups.  Default value is `true`.
     * 
     */
    public Output<Optional<Boolean>> autoCreateUser() {
        return Codegen.optional(this.autoCreateUser);
    }
    /**
     * An attribute that can be used to map a user&#39;s email address to a user created automatically in Artifactory. Default value is `mail`.
     * - Note: If blank/empty string input was set for email_attribute, Default value `mail` takes effect. This is to match with Artifactory behavior.
     * 
     */
    @Export(name="emailAttribute", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> emailAttribute;

    /**
     * @return An attribute that can be used to map a user&#39;s email address to a user created automatically in Artifactory. Default value is `mail`.
     * - Note: If blank/empty string input was set for email_attribute, Default value `mail` takes effect. This is to match with Artifactory behavior.
     * 
     */
    public Output<Optional<String>> emailAttribute() {
        return Codegen.optional(this.emailAttribute);
    }
    /**
     * When set, these settings are enabled. Default value is `true`.
     * 
     */
    @Export(name="enabled", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> enabled;

    /**
     * @return When set, these settings are enabled. Default value is `true`.
     * 
     */
    public Output<Optional<Boolean>> enabled() {
        return Codegen.optional(this.enabled);
    }
    /**
     * The unique ID of the LDAP setting.
     * 
     */
    @Export(name="key", refs={String.class}, tree="[0]")
    private Output<String> key;

    /**
     * @return The unique ID of the LDAP setting.
     * 
     */
    public Output<String> key() {
        return this.key;
    }
    /**
     * Protects against LDAP poisoning by filtering out users exposed to vulnerabilities.  Default value is `true`.
     * 
     */
    @Export(name="ldapPoisoningProtection", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> ldapPoisoningProtection;

    /**
     * @return Protects against LDAP poisoning by filtering out users exposed to vulnerabilities.  Default value is `true`.
     * 
     */
    public Output<Optional<Boolean>> ldapPoisoningProtection() {
        return Codegen.optional(this.ldapPoisoningProtection);
    }
    /**
     * Location of the LDAP server in the following format: ldap://myserver:myport/dc=sampledomain,dc=com. The URL should include the base DN used to search for and/or authenticate users.
     * 
     */
    @Export(name="ldapUrl", refs={String.class}, tree="[0]")
    private Output<String> ldapUrl;

    /**
     * @return Location of the LDAP server in the following format: ldap://myserver:myport/dc=sampledomain,dc=com. The URL should include the base DN used to search for and/or authenticate users.
     * 
     */
    public Output<String> ldapUrl() {
        return this.ldapUrl;
    }
    /**
     * The full DN of a user with permissions that allow querying the LDAP server. When working with LDAP Groups, the user should have permissions for any extra group attributes such as memberOf.
     * 
     */
    @Export(name="managerDn", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> managerDn;

    /**
     * @return The full DN of a user with permissions that allow querying the LDAP server. When working with LDAP Groups, the user should have permissions for any extra group attributes such as memberOf.
     * 
     */
    public Output<Optional<String>> managerDn() {
        return Codegen.optional(this.managerDn);
    }
    /**
     * The password of the user binding to the LDAP server when using &#34;search&#34; authentication.
     * 
     */
    @Export(name="managerPassword", refs={String.class}, tree="[0]")
    private Output<String> managerPassword;

    /**
     * @return The password of the user binding to the LDAP server when using &#34;search&#34; authentication.
     * 
     */
    public Output<String> managerPassword() {
        return this.managerPassword;
    }
    /**
     * When set, supports paging results for the LDAP server. This feature requires that the LDAP Server supports a PagedResultsControl configuration.  Default value is `true`.
     * 
     */
    @Export(name="pagingSupportEnabled", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> pagingSupportEnabled;

    /**
     * @return When set, supports paging results for the LDAP server. This feature requires that the LDAP Server supports a PagedResultsControl configuration.  Default value is `true`.
     * 
     */
    public Output<Optional<Boolean>> pagingSupportEnabled() {
        return Codegen.optional(this.pagingSupportEnabled);
    }
    /**
     * The Context name in which to search relative to the base DN in the LDAP URL. Multiple search bases may be specified separated by a pipe ( | ).
     * 
     */
    @Export(name="searchBase", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> searchBase;

    /**
     * @return The Context name in which to search relative to the base DN in the LDAP URL. Multiple search bases may be specified separated by a pipe ( | ).
     * 
     */
    public Output<Optional<String>> searchBase() {
        return Codegen.optional(this.searchBase);
    }
    /**
     * A filter expression used to search for the user DN that is used in LDAP authentication. This is an LDAP search filter (as defined in &#39;RFC 2254&#39;) with optional arguments. In this case, the username is the only argument, denoted by &#39;{0}&#39;. Possible examples are: uid={0}) - this would search for a username match on the uid attribute. Authentication using LDAP is performed from the DN found if successful. Default value is blank/empty.
     * - Note: LDAP settings should provide a userDnPattern or a searchFilter (or both)
     * 
     */
    @Export(name="searchFilter", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> searchFilter;

    /**
     * @return A filter expression used to search for the user DN that is used in LDAP authentication. This is an LDAP search filter (as defined in &#39;RFC 2254&#39;) with optional arguments. In this case, the username is the only argument, denoted by &#39;{0}&#39;. Possible examples are: uid={0}) - this would search for a username match on the uid attribute. Authentication using LDAP is performed from the DN found if successful. Default value is blank/empty.
     * - Note: LDAP settings should provide a userDnPattern or a searchFilter (or both)
     * 
     */
    public Output<Optional<String>> searchFilter() {
        return Codegen.optional(this.searchFilter);
    }
    /**
     * When set, enables deep search through the sub-tree of the LDAP URL + Search Base.  Default value is `true`.
     * 
     */
    @Export(name="searchSubTree", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> searchSubTree;

    /**
     * @return When set, enables deep search through the sub-tree of the LDAP URL + Search Base.  Default value is `true`.
     * 
     */
    public Output<Optional<Boolean>> searchSubTree() {
        return Codegen.optional(this.searchSubTree);
    }
    /**
     * A DN pattern used to log users directly in to the LDAP database. This pattern is used to create a DN string for &#34;direct&#34; user authentication, and is relative to the base DN in the LDAP URL. The pattern argument {0} is replaced with the username at runtime. This only works if anonymous binding is allowed and a direct user DN can be used (which is not the default case for Active Directory). For example: uid={0},ou=People. Default value is blank/empty.
     * - Note: LDAP settings should provide a userDnPattern or a searchFilter (or both).
     * 
     */
    @Export(name="userDnPattern", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> userDnPattern;

    /**
     * @return A DN pattern used to log users directly in to the LDAP database. This pattern is used to create a DN string for &#34;direct&#34; user authentication, and is relative to the base DN in the LDAP URL. The pattern argument {0} is replaced with the username at runtime. This only works if anonymous binding is allowed and a direct user DN can be used (which is not the default case for Active Directory). For example: uid={0},ou=People. Default value is blank/empty.
     * - Note: LDAP settings should provide a userDnPattern or a searchFilter (or both).
     * 
     */
    public Output<Optional<String>> userDnPattern() {
        return Codegen.optional(this.userDnPattern);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public LdapSetting(java.lang.String name) {
        this(name, LdapSettingArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public LdapSetting(java.lang.String name, LdapSettingArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public LdapSetting(java.lang.String name, LdapSettingArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/ldapSetting:LdapSetting", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private LdapSetting(java.lang.String name, Output<java.lang.String> id, @Nullable LdapSettingState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("artifactory:index/ldapSetting:LdapSetting", name, state, makeResourceOptions(options, id), false);
    }

    private static LdapSettingArgs makeArgs(LdapSettingArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? LdapSettingArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .additionalSecretOutputs(List.of(
                "managerPassword"
            ))
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static LdapSetting get(java.lang.String name, Output<java.lang.String> id, @Nullable LdapSettingState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new LdapSetting(name, id, state, options);
    }
}
