// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package artifactory

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-artifactory/sdk/v8/go/artifactory/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides an Artifactory custom webhook resource. This can be used to register and manage Artifactory webhook subscription which enables you to be notified or notify other users when such events take place in Artifactory.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-artifactory/sdk/v8/go/artifactory"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := artifactory.NewReleaseBundleV2PromotionCustomWebhook(ctx, "release-bundle-v2-promotion-custom-webhook", &artifactory.ReleaseBundleV2PromotionCustomWebhookArgs{
//				Key: pulumi.String("release-bundle-custom-webhook"),
//				EventTypes: pulumi.StringArray{
//					pulumi.String("release_bundle_v2_promotion_completed"),
//					pulumi.String("release_bundle_v2_promotion_failed"),
//					pulumi.String("release_bundle_v2_promotion_started"),
//				},
//				Criteria: &artifactory.ReleaseBundleV2PromotionCustomWebhookCriteriaArgs{
//					SelectedEnvironments: pulumi.StringArray{
//						pulumi.String("PROD"),
//						pulumi.String("DEV"),
//					},
//				},
//				Handlers: artifactory.ReleaseBundleV2PromotionCustomWebhookHandlerArray{
//					&artifactory.ReleaseBundleV2PromotionCustomWebhookHandlerArgs{
//						Url:    pulumi.String("https://tempurl.org"),
//						Method: pulumi.String("POST"),
//						Secrets: pulumi.StringMap{
//							"secretName1": pulumi.String("value1"),
//							"secretName2": pulumi.String("value2"),
//						},
//						HttpHeaders: pulumi.StringMap{
//							"headerName1": pulumi.String("value1"),
//							"headerName2": pulumi.String("value2"),
//						},
//						Payload: pulumi.String("{ \"ref\": \"main\" , \"inputs\": { \"artifact_path\": \"test-repo/repo-path\" } }"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type ReleaseBundleV2PromotionCustomWebhook struct {
	pulumi.CustomResourceState

	// Specifies where the webhook will be applied on which enviroments.
	Criteria ReleaseBundleV2PromotionCustomWebhookCriteriaOutput `pulumi:"criteria"`
	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Status of webhook. Default to `true`.
	Enabled pulumi.BoolOutput `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
	EventTypes pulumi.StringArrayOutput `pulumi:"eventTypes"`
	// At least one is required.
	Handlers ReleaseBundleV2PromotionCustomWebhookHandlerArrayOutput `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringOutput `pulumi:"key"`
}

// NewReleaseBundleV2PromotionCustomWebhook registers a new resource with the given unique name, arguments, and options.
func NewReleaseBundleV2PromotionCustomWebhook(ctx *pulumi.Context,
	name string, args *ReleaseBundleV2PromotionCustomWebhookArgs, opts ...pulumi.ResourceOption) (*ReleaseBundleV2PromotionCustomWebhook, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Criteria == nil {
		return nil, errors.New("invalid value for required argument 'Criteria'")
	}
	if args.EventTypes == nil {
		return nil, errors.New("invalid value for required argument 'EventTypes'")
	}
	if args.Handlers == nil {
		return nil, errors.New("invalid value for required argument 'Handlers'")
	}
	if args.Key == nil {
		return nil, errors.New("invalid value for required argument 'Key'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ReleaseBundleV2PromotionCustomWebhook
	err := ctx.RegisterResource("artifactory:index/releaseBundleV2PromotionCustomWebhook:ReleaseBundleV2PromotionCustomWebhook", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetReleaseBundleV2PromotionCustomWebhook gets an existing ReleaseBundleV2PromotionCustomWebhook resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetReleaseBundleV2PromotionCustomWebhook(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ReleaseBundleV2PromotionCustomWebhookState, opts ...pulumi.ResourceOption) (*ReleaseBundleV2PromotionCustomWebhook, error) {
	var resource ReleaseBundleV2PromotionCustomWebhook
	err := ctx.ReadResource("artifactory:index/releaseBundleV2PromotionCustomWebhook:ReleaseBundleV2PromotionCustomWebhook", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ReleaseBundleV2PromotionCustomWebhook resources.
type releaseBundleV2PromotionCustomWebhookState struct {
	// Specifies where the webhook will be applied on which enviroments.
	Criteria *ReleaseBundleV2PromotionCustomWebhookCriteria `pulumi:"criteria"`
	// Webhook description. Max length 1000 characters.
	Description *string `pulumi:"description"`
	// Status of webhook. Default to `true`.
	Enabled *bool `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
	EventTypes []string `pulumi:"eventTypes"`
	// At least one is required.
	Handlers []ReleaseBundleV2PromotionCustomWebhookHandler `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key *string `pulumi:"key"`
}

type ReleaseBundleV2PromotionCustomWebhookState struct {
	// Specifies where the webhook will be applied on which enviroments.
	Criteria ReleaseBundleV2PromotionCustomWebhookCriteriaPtrInput
	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrInput
	// Status of webhook. Default to `true`.
	Enabled pulumi.BoolPtrInput
	// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
	EventTypes pulumi.StringArrayInput
	// At least one is required.
	Handlers ReleaseBundleV2PromotionCustomWebhookHandlerArrayInput
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringPtrInput
}

func (ReleaseBundleV2PromotionCustomWebhookState) ElementType() reflect.Type {
	return reflect.TypeOf((*releaseBundleV2PromotionCustomWebhookState)(nil)).Elem()
}

type releaseBundleV2PromotionCustomWebhookArgs struct {
	// Specifies where the webhook will be applied on which enviroments.
	Criteria ReleaseBundleV2PromotionCustomWebhookCriteria `pulumi:"criteria"`
	// Webhook description. Max length 1000 characters.
	Description *string `pulumi:"description"`
	// Status of webhook. Default to `true`.
	Enabled *bool `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
	EventTypes []string `pulumi:"eventTypes"`
	// At least one is required.
	Handlers []ReleaseBundleV2PromotionCustomWebhookHandler `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key string `pulumi:"key"`
}

// The set of arguments for constructing a ReleaseBundleV2PromotionCustomWebhook resource.
type ReleaseBundleV2PromotionCustomWebhookArgs struct {
	// Specifies where the webhook will be applied on which enviroments.
	Criteria ReleaseBundleV2PromotionCustomWebhookCriteriaInput
	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrInput
	// Status of webhook. Default to `true`.
	Enabled pulumi.BoolPtrInput
	// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
	EventTypes pulumi.StringArrayInput
	// At least one is required.
	Handlers ReleaseBundleV2PromotionCustomWebhookHandlerArrayInput
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringInput
}

func (ReleaseBundleV2PromotionCustomWebhookArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*releaseBundleV2PromotionCustomWebhookArgs)(nil)).Elem()
}

type ReleaseBundleV2PromotionCustomWebhookInput interface {
	pulumi.Input

	ToReleaseBundleV2PromotionCustomWebhookOutput() ReleaseBundleV2PromotionCustomWebhookOutput
	ToReleaseBundleV2PromotionCustomWebhookOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookOutput
}

func (*ReleaseBundleV2PromotionCustomWebhook) ElementType() reflect.Type {
	return reflect.TypeOf((**ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (i *ReleaseBundleV2PromotionCustomWebhook) ToReleaseBundleV2PromotionCustomWebhookOutput() ReleaseBundleV2PromotionCustomWebhookOutput {
	return i.ToReleaseBundleV2PromotionCustomWebhookOutputWithContext(context.Background())
}

func (i *ReleaseBundleV2PromotionCustomWebhook) ToReleaseBundleV2PromotionCustomWebhookOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReleaseBundleV2PromotionCustomWebhookOutput)
}

// ReleaseBundleV2PromotionCustomWebhookArrayInput is an input type that accepts ReleaseBundleV2PromotionCustomWebhookArray and ReleaseBundleV2PromotionCustomWebhookArrayOutput values.
// You can construct a concrete instance of `ReleaseBundleV2PromotionCustomWebhookArrayInput` via:
//
//	ReleaseBundleV2PromotionCustomWebhookArray{ ReleaseBundleV2PromotionCustomWebhookArgs{...} }
type ReleaseBundleV2PromotionCustomWebhookArrayInput interface {
	pulumi.Input

	ToReleaseBundleV2PromotionCustomWebhookArrayOutput() ReleaseBundleV2PromotionCustomWebhookArrayOutput
	ToReleaseBundleV2PromotionCustomWebhookArrayOutputWithContext(context.Context) ReleaseBundleV2PromotionCustomWebhookArrayOutput
}

type ReleaseBundleV2PromotionCustomWebhookArray []ReleaseBundleV2PromotionCustomWebhookInput

func (ReleaseBundleV2PromotionCustomWebhookArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (i ReleaseBundleV2PromotionCustomWebhookArray) ToReleaseBundleV2PromotionCustomWebhookArrayOutput() ReleaseBundleV2PromotionCustomWebhookArrayOutput {
	return i.ToReleaseBundleV2PromotionCustomWebhookArrayOutputWithContext(context.Background())
}

func (i ReleaseBundleV2PromotionCustomWebhookArray) ToReleaseBundleV2PromotionCustomWebhookArrayOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReleaseBundleV2PromotionCustomWebhookArrayOutput)
}

// ReleaseBundleV2PromotionCustomWebhookMapInput is an input type that accepts ReleaseBundleV2PromotionCustomWebhookMap and ReleaseBundleV2PromotionCustomWebhookMapOutput values.
// You can construct a concrete instance of `ReleaseBundleV2PromotionCustomWebhookMapInput` via:
//
//	ReleaseBundleV2PromotionCustomWebhookMap{ "key": ReleaseBundleV2PromotionCustomWebhookArgs{...} }
type ReleaseBundleV2PromotionCustomWebhookMapInput interface {
	pulumi.Input

	ToReleaseBundleV2PromotionCustomWebhookMapOutput() ReleaseBundleV2PromotionCustomWebhookMapOutput
	ToReleaseBundleV2PromotionCustomWebhookMapOutputWithContext(context.Context) ReleaseBundleV2PromotionCustomWebhookMapOutput
}

type ReleaseBundleV2PromotionCustomWebhookMap map[string]ReleaseBundleV2PromotionCustomWebhookInput

func (ReleaseBundleV2PromotionCustomWebhookMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (i ReleaseBundleV2PromotionCustomWebhookMap) ToReleaseBundleV2PromotionCustomWebhookMapOutput() ReleaseBundleV2PromotionCustomWebhookMapOutput {
	return i.ToReleaseBundleV2PromotionCustomWebhookMapOutputWithContext(context.Background())
}

func (i ReleaseBundleV2PromotionCustomWebhookMap) ToReleaseBundleV2PromotionCustomWebhookMapOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ReleaseBundleV2PromotionCustomWebhookMapOutput)
}

type ReleaseBundleV2PromotionCustomWebhookOutput struct{ *pulumi.OutputState }

func (ReleaseBundleV2PromotionCustomWebhookOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (o ReleaseBundleV2PromotionCustomWebhookOutput) ToReleaseBundleV2PromotionCustomWebhookOutput() ReleaseBundleV2PromotionCustomWebhookOutput {
	return o
}

func (o ReleaseBundleV2PromotionCustomWebhookOutput) ToReleaseBundleV2PromotionCustomWebhookOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookOutput {
	return o
}

// Specifies where the webhook will be applied on which enviroments.
func (o ReleaseBundleV2PromotionCustomWebhookOutput) Criteria() ReleaseBundleV2PromotionCustomWebhookCriteriaOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) ReleaseBundleV2PromotionCustomWebhookCriteriaOutput {
		return v.Criteria
	}).(ReleaseBundleV2PromotionCustomWebhookCriteriaOutput)
}

// Webhook description. Max length 1000 characters.
func (o ReleaseBundleV2PromotionCustomWebhookOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Status of webhook. Default to `true`.
func (o ReleaseBundleV2PromotionCustomWebhookOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) pulumi.BoolOutput { return v.Enabled }).(pulumi.BoolOutput)
}

// List of event triggers for the Webhook. Allow values: `releaseBundleV2PromotionStarted`, `releaseBundleV2PromotionCompleted`, `releaseBundleV2PromotionFailed`
func (o ReleaseBundleV2PromotionCustomWebhookOutput) EventTypes() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) pulumi.StringArrayOutput { return v.EventTypes }).(pulumi.StringArrayOutput)
}

// At least one is required.
func (o ReleaseBundleV2PromotionCustomWebhookOutput) Handlers() ReleaseBundleV2PromotionCustomWebhookHandlerArrayOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) ReleaseBundleV2PromotionCustomWebhookHandlerArrayOutput {
		return v.Handlers
	}).(ReleaseBundleV2PromotionCustomWebhookHandlerArrayOutput)
}

// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
func (o ReleaseBundleV2PromotionCustomWebhookOutput) Key() pulumi.StringOutput {
	return o.ApplyT(func(v *ReleaseBundleV2PromotionCustomWebhook) pulumi.StringOutput { return v.Key }).(pulumi.StringOutput)
}

type ReleaseBundleV2PromotionCustomWebhookArrayOutput struct{ *pulumi.OutputState }

func (ReleaseBundleV2PromotionCustomWebhookArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (o ReleaseBundleV2PromotionCustomWebhookArrayOutput) ToReleaseBundleV2PromotionCustomWebhookArrayOutput() ReleaseBundleV2PromotionCustomWebhookArrayOutput {
	return o
}

func (o ReleaseBundleV2PromotionCustomWebhookArrayOutput) ToReleaseBundleV2PromotionCustomWebhookArrayOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookArrayOutput {
	return o
}

func (o ReleaseBundleV2PromotionCustomWebhookArrayOutput) Index(i pulumi.IntInput) ReleaseBundleV2PromotionCustomWebhookOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ReleaseBundleV2PromotionCustomWebhook {
		return vs[0].([]*ReleaseBundleV2PromotionCustomWebhook)[vs[1].(int)]
	}).(ReleaseBundleV2PromotionCustomWebhookOutput)
}

type ReleaseBundleV2PromotionCustomWebhookMapOutput struct{ *pulumi.OutputState }

func (ReleaseBundleV2PromotionCustomWebhookMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ReleaseBundleV2PromotionCustomWebhook)(nil)).Elem()
}

func (o ReleaseBundleV2PromotionCustomWebhookMapOutput) ToReleaseBundleV2PromotionCustomWebhookMapOutput() ReleaseBundleV2PromotionCustomWebhookMapOutput {
	return o
}

func (o ReleaseBundleV2PromotionCustomWebhookMapOutput) ToReleaseBundleV2PromotionCustomWebhookMapOutputWithContext(ctx context.Context) ReleaseBundleV2PromotionCustomWebhookMapOutput {
	return o
}

func (o ReleaseBundleV2PromotionCustomWebhookMapOutput) MapIndex(k pulumi.StringInput) ReleaseBundleV2PromotionCustomWebhookOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ReleaseBundleV2PromotionCustomWebhook {
		return vs[0].(map[string]*ReleaseBundleV2PromotionCustomWebhook)[vs[1].(string)]
	}).(ReleaseBundleV2PromotionCustomWebhookOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ReleaseBundleV2PromotionCustomWebhookInput)(nil)).Elem(), &ReleaseBundleV2PromotionCustomWebhook{})
	pulumi.RegisterInputType(reflect.TypeOf((*ReleaseBundleV2PromotionCustomWebhookArrayInput)(nil)).Elem(), ReleaseBundleV2PromotionCustomWebhookArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ReleaseBundleV2PromotionCustomWebhookMapInput)(nil)).Elem(), ReleaseBundleV2PromotionCustomWebhookMap{})
	pulumi.RegisterOutputType(ReleaseBundleV2PromotionCustomWebhookOutput{})
	pulumi.RegisterOutputType(ReleaseBundleV2PromotionCustomWebhookArrayOutput{})
	pulumi.RegisterOutputType(ReleaseBundleV2PromotionCustomWebhookMapOutput{})
}
