// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package artifactory

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-artifactory/sdk/v8/go/artifactory/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides an Artifactory custom webhook resource. This can be used to register and manage Artifactory webhook subscription which enables you to be notified or notify other users when such events take place in Artifactory.
//
// ## Example Usage
//
// .
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-artifactory/sdk/v8/go/artifactory"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := artifactory.NewArtifactLifecycleCustomWebhook(ctx, "artifact-lifecycle-custom-webhook", &artifactory.ArtifactLifecycleCustomWebhookArgs{
//				Key: pulumi.String("artifact-lifecycle-custom-webhook"),
//				EventTypes: pulumi.StringArray{
//					pulumi.String("archive"),
//					pulumi.String("restore"),
//				},
//				Handlers: artifactory.ArtifactLifecycleCustomWebhookHandlerArray{
//					&artifactory.ArtifactLifecycleCustomWebhookHandlerArgs{
//						Url:    pulumi.String("https://tempurl.org"),
//						Method: pulumi.String("POST"),
//						Secrets: pulumi.StringMap{
//							"secretName1": pulumi.String("value1"),
//							"secretName2": pulumi.String("value2"),
//						},
//						HttpHeaders: pulumi.StringMap{
//							"headerName1": pulumi.String("value1"),
//							"headerName2": pulumi.String("value2"),
//						},
//						Payload: pulumi.String("{ \"ref\": \"main\" , \"inputs\": { \"artifact_path\": \"test-repo/repo-path\" } }"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type ArtifactLifecycleCustomWebhook struct {
	pulumi.CustomResourceState

	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// Status of webhook. Default to `true`
	Enabled pulumi.BoolOutput `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `archive`, `restore`
	EventTypes pulumi.StringArrayOutput `pulumi:"eventTypes"`
	// At least one is required.
	Handlers ArtifactLifecycleCustomWebhookHandlerArrayOutput `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringOutput `pulumi:"key"`
}

// NewArtifactLifecycleCustomWebhook registers a new resource with the given unique name, arguments, and options.
func NewArtifactLifecycleCustomWebhook(ctx *pulumi.Context,
	name string, args *ArtifactLifecycleCustomWebhookArgs, opts ...pulumi.ResourceOption) (*ArtifactLifecycleCustomWebhook, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.EventTypes == nil {
		return nil, errors.New("invalid value for required argument 'EventTypes'")
	}
	if args.Handlers == nil {
		return nil, errors.New("invalid value for required argument 'Handlers'")
	}
	if args.Key == nil {
		return nil, errors.New("invalid value for required argument 'Key'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ArtifactLifecycleCustomWebhook
	err := ctx.RegisterResource("artifactory:index/artifactLifecycleCustomWebhook:ArtifactLifecycleCustomWebhook", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetArtifactLifecycleCustomWebhook gets an existing ArtifactLifecycleCustomWebhook resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetArtifactLifecycleCustomWebhook(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ArtifactLifecycleCustomWebhookState, opts ...pulumi.ResourceOption) (*ArtifactLifecycleCustomWebhook, error) {
	var resource ArtifactLifecycleCustomWebhook
	err := ctx.ReadResource("artifactory:index/artifactLifecycleCustomWebhook:ArtifactLifecycleCustomWebhook", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ArtifactLifecycleCustomWebhook resources.
type artifactLifecycleCustomWebhookState struct {
	// Webhook description. Max length 1000 characters.
	Description *string `pulumi:"description"`
	// Status of webhook. Default to `true`
	Enabled *bool `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `archive`, `restore`
	EventTypes []string `pulumi:"eventTypes"`
	// At least one is required.
	Handlers []ArtifactLifecycleCustomWebhookHandler `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key *string `pulumi:"key"`
}

type ArtifactLifecycleCustomWebhookState struct {
	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrInput
	// Status of webhook. Default to `true`
	Enabled pulumi.BoolPtrInput
	// List of event triggers for the Webhook. Allow values: `archive`, `restore`
	EventTypes pulumi.StringArrayInput
	// At least one is required.
	Handlers ArtifactLifecycleCustomWebhookHandlerArrayInput
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringPtrInput
}

func (ArtifactLifecycleCustomWebhookState) ElementType() reflect.Type {
	return reflect.TypeOf((*artifactLifecycleCustomWebhookState)(nil)).Elem()
}

type artifactLifecycleCustomWebhookArgs struct {
	// Webhook description. Max length 1000 characters.
	Description *string `pulumi:"description"`
	// Status of webhook. Default to `true`
	Enabled *bool `pulumi:"enabled"`
	// List of event triggers for the Webhook. Allow values: `archive`, `restore`
	EventTypes []string `pulumi:"eventTypes"`
	// At least one is required.
	Handlers []ArtifactLifecycleCustomWebhookHandler `pulumi:"handlers"`
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key string `pulumi:"key"`
}

// The set of arguments for constructing a ArtifactLifecycleCustomWebhook resource.
type ArtifactLifecycleCustomWebhookArgs struct {
	// Webhook description. Max length 1000 characters.
	Description pulumi.StringPtrInput
	// Status of webhook. Default to `true`
	Enabled pulumi.BoolPtrInput
	// List of event triggers for the Webhook. Allow values: `archive`, `restore`
	EventTypes pulumi.StringArrayInput
	// At least one is required.
	Handlers ArtifactLifecycleCustomWebhookHandlerArrayInput
	// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
	Key pulumi.StringInput
}

func (ArtifactLifecycleCustomWebhookArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*artifactLifecycleCustomWebhookArgs)(nil)).Elem()
}

type ArtifactLifecycleCustomWebhookInput interface {
	pulumi.Input

	ToArtifactLifecycleCustomWebhookOutput() ArtifactLifecycleCustomWebhookOutput
	ToArtifactLifecycleCustomWebhookOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookOutput
}

func (*ArtifactLifecycleCustomWebhook) ElementType() reflect.Type {
	return reflect.TypeOf((**ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (i *ArtifactLifecycleCustomWebhook) ToArtifactLifecycleCustomWebhookOutput() ArtifactLifecycleCustomWebhookOutput {
	return i.ToArtifactLifecycleCustomWebhookOutputWithContext(context.Background())
}

func (i *ArtifactLifecycleCustomWebhook) ToArtifactLifecycleCustomWebhookOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ArtifactLifecycleCustomWebhookOutput)
}

// ArtifactLifecycleCustomWebhookArrayInput is an input type that accepts ArtifactLifecycleCustomWebhookArray and ArtifactLifecycleCustomWebhookArrayOutput values.
// You can construct a concrete instance of `ArtifactLifecycleCustomWebhookArrayInput` via:
//
//	ArtifactLifecycleCustomWebhookArray{ ArtifactLifecycleCustomWebhookArgs{...} }
type ArtifactLifecycleCustomWebhookArrayInput interface {
	pulumi.Input

	ToArtifactLifecycleCustomWebhookArrayOutput() ArtifactLifecycleCustomWebhookArrayOutput
	ToArtifactLifecycleCustomWebhookArrayOutputWithContext(context.Context) ArtifactLifecycleCustomWebhookArrayOutput
}

type ArtifactLifecycleCustomWebhookArray []ArtifactLifecycleCustomWebhookInput

func (ArtifactLifecycleCustomWebhookArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (i ArtifactLifecycleCustomWebhookArray) ToArtifactLifecycleCustomWebhookArrayOutput() ArtifactLifecycleCustomWebhookArrayOutput {
	return i.ToArtifactLifecycleCustomWebhookArrayOutputWithContext(context.Background())
}

func (i ArtifactLifecycleCustomWebhookArray) ToArtifactLifecycleCustomWebhookArrayOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ArtifactLifecycleCustomWebhookArrayOutput)
}

// ArtifactLifecycleCustomWebhookMapInput is an input type that accepts ArtifactLifecycleCustomWebhookMap and ArtifactLifecycleCustomWebhookMapOutput values.
// You can construct a concrete instance of `ArtifactLifecycleCustomWebhookMapInput` via:
//
//	ArtifactLifecycleCustomWebhookMap{ "key": ArtifactLifecycleCustomWebhookArgs{...} }
type ArtifactLifecycleCustomWebhookMapInput interface {
	pulumi.Input

	ToArtifactLifecycleCustomWebhookMapOutput() ArtifactLifecycleCustomWebhookMapOutput
	ToArtifactLifecycleCustomWebhookMapOutputWithContext(context.Context) ArtifactLifecycleCustomWebhookMapOutput
}

type ArtifactLifecycleCustomWebhookMap map[string]ArtifactLifecycleCustomWebhookInput

func (ArtifactLifecycleCustomWebhookMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (i ArtifactLifecycleCustomWebhookMap) ToArtifactLifecycleCustomWebhookMapOutput() ArtifactLifecycleCustomWebhookMapOutput {
	return i.ToArtifactLifecycleCustomWebhookMapOutputWithContext(context.Background())
}

func (i ArtifactLifecycleCustomWebhookMap) ToArtifactLifecycleCustomWebhookMapOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ArtifactLifecycleCustomWebhookMapOutput)
}

type ArtifactLifecycleCustomWebhookOutput struct{ *pulumi.OutputState }

func (ArtifactLifecycleCustomWebhookOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (o ArtifactLifecycleCustomWebhookOutput) ToArtifactLifecycleCustomWebhookOutput() ArtifactLifecycleCustomWebhookOutput {
	return o
}

func (o ArtifactLifecycleCustomWebhookOutput) ToArtifactLifecycleCustomWebhookOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookOutput {
	return o
}

// Webhook description. Max length 1000 characters.
func (o ArtifactLifecycleCustomWebhookOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ArtifactLifecycleCustomWebhook) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// Status of webhook. Default to `true`
func (o ArtifactLifecycleCustomWebhookOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *ArtifactLifecycleCustomWebhook) pulumi.BoolOutput { return v.Enabled }).(pulumi.BoolOutput)
}

// List of event triggers for the Webhook. Allow values: `archive`, `restore`
func (o ArtifactLifecycleCustomWebhookOutput) EventTypes() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ArtifactLifecycleCustomWebhook) pulumi.StringArrayOutput { return v.EventTypes }).(pulumi.StringArrayOutput)
}

// At least one is required.
func (o ArtifactLifecycleCustomWebhookOutput) Handlers() ArtifactLifecycleCustomWebhookHandlerArrayOutput {
	return o.ApplyT(func(v *ArtifactLifecycleCustomWebhook) ArtifactLifecycleCustomWebhookHandlerArrayOutput {
		return v.Handlers
	}).(ArtifactLifecycleCustomWebhookHandlerArrayOutput)
}

// The identity key of the webhook. Must be between 2 and 200 characters. Cannot contain spaces.
func (o ArtifactLifecycleCustomWebhookOutput) Key() pulumi.StringOutput {
	return o.ApplyT(func(v *ArtifactLifecycleCustomWebhook) pulumi.StringOutput { return v.Key }).(pulumi.StringOutput)
}

type ArtifactLifecycleCustomWebhookArrayOutput struct{ *pulumi.OutputState }

func (ArtifactLifecycleCustomWebhookArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (o ArtifactLifecycleCustomWebhookArrayOutput) ToArtifactLifecycleCustomWebhookArrayOutput() ArtifactLifecycleCustomWebhookArrayOutput {
	return o
}

func (o ArtifactLifecycleCustomWebhookArrayOutput) ToArtifactLifecycleCustomWebhookArrayOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookArrayOutput {
	return o
}

func (o ArtifactLifecycleCustomWebhookArrayOutput) Index(i pulumi.IntInput) ArtifactLifecycleCustomWebhookOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ArtifactLifecycleCustomWebhook {
		return vs[0].([]*ArtifactLifecycleCustomWebhook)[vs[1].(int)]
	}).(ArtifactLifecycleCustomWebhookOutput)
}

type ArtifactLifecycleCustomWebhookMapOutput struct{ *pulumi.OutputState }

func (ArtifactLifecycleCustomWebhookMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ArtifactLifecycleCustomWebhook)(nil)).Elem()
}

func (o ArtifactLifecycleCustomWebhookMapOutput) ToArtifactLifecycleCustomWebhookMapOutput() ArtifactLifecycleCustomWebhookMapOutput {
	return o
}

func (o ArtifactLifecycleCustomWebhookMapOutput) ToArtifactLifecycleCustomWebhookMapOutputWithContext(ctx context.Context) ArtifactLifecycleCustomWebhookMapOutput {
	return o
}

func (o ArtifactLifecycleCustomWebhookMapOutput) MapIndex(k pulumi.StringInput) ArtifactLifecycleCustomWebhookOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ArtifactLifecycleCustomWebhook {
		return vs[0].(map[string]*ArtifactLifecycleCustomWebhook)[vs[1].(string)]
	}).(ArtifactLifecycleCustomWebhookOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ArtifactLifecycleCustomWebhookInput)(nil)).Elem(), &ArtifactLifecycleCustomWebhook{})
	pulumi.RegisterInputType(reflect.TypeOf((*ArtifactLifecycleCustomWebhookArrayInput)(nil)).Elem(), ArtifactLifecycleCustomWebhookArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ArtifactLifecycleCustomWebhookMapInput)(nil)).Elem(), ArtifactLifecycleCustomWebhookMap{})
	pulumi.RegisterOutputType(ArtifactLifecycleCustomWebhookOutput{})
	pulumi.RegisterOutputType(ArtifactLifecycleCustomWebhookArrayOutput{})
	pulumi.RegisterOutputType(ArtifactLifecycleCustomWebhookMapOutput{})
}
